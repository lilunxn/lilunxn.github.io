---
title: 数组的声明与初始化
date: 2018-11-05 21:12:25
tags:
categories: 
- C++基础语法部分
- 基础
---

# 一般静态数组
## 数组的声明
数组是一种数据格式，可以存储多个同类型的值，数组的声明需要包含三个要素：**元素值类型，数组名，元素个数**，三者缺一不可。需要指出的是，其中元素的个数必须是**整形常量或者常量表达式**，而不能是变量。其通用格式及举例如下：

```
trpeName arrayName[arraySize]
int month[12]; //声明了一个整型数组month，有12个元素
```
## 数组的初始化
只有在定义数组的同时才能进行初始化，此后便不能再使用了。同时也不能将一个数组赋值给另一个数组。其原因在于，数组名称其实本质上是一个指针变量。
其初始化过程如下所示：

```
//正确的初始化方式
int cards[4]; //
int cards[4]={1,2,3,4}; //大括号括起，逗号隔开元素
int cards[4]={1,2}; //允许部分初始化，其余元素将被置0
int cards[4]={}; //允许空白初始化，所有元素都为0
int cards[]={1,2,3,4}; //允许不说明元素个数，编译器将根据初始化情况自动计算
card[3]=1; //允许对数组的单个元素赋值

//错误的初始化方式
card[4]={1,2,3,4}; //错误，无法直接对整个数组赋值
card1=card2; //错误，数组之间不能整体赋值
int card[4]={1,2,3,4.0}; //错误，数组赋值时，不能进行缩窄变换。4.0不可以转化为int类型
```

# 静态字符串
该种数组属于C语言风格的字符串，将一系列字符存储于char数组中。
## 字符串的声明
和前述过程类似，但需要注意的是，字符串数组的末尾需要增加一个'\0'作为结束符(iostream的诸多函数都是基于在见到结束符时停止的原理工作的)，因此，在声明时，数组元素个数比实际所需个数至少要多1。
## 字符串的初始化
请注意以下初始化的差别；

```
char dog[3]={'a','b','c'}; //编译可通过，但这是一个字符数组，不是字符串
char dog[3]={'a','b','\0'}; //初始化了一个字符串（末尾有结束符'\0'）
char bird[6]="bird!"; //可以进行初始化，此时编译器会自动在后面补上结束符
char bird[]="bird!"; //允许，编译器会在加上结束符后自动计算字符串长度
```

由于字符串也是一种特殊的数组，因而其名称本质上也是一个指针。前述数组的错误初始化方法，在字符串初始化时也不可使用。