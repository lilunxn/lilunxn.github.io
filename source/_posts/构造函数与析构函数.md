---
title: 构造函数与析构函数
date: 2018-11-07 19:14:04
tags:
categories: 
- C++基础语法部分
- 类
---

构造函数和析构函数是类中定义的两种特殊函数，现分述如下：
# 构造函数
## 构造函数的定义
构造函数是类定义中的一种特殊函数，其作用是在类声明时给类成员进行初始化操作。其基本的函数形式如下所示：

```
<类名> (<参数表>)
{
	<函数体>
}
```

需要注意的是，构造函数没有返回值，因而不需要标明返回值类型。同时，构造函数的名称与类名称必须完全一致。下面以时间类为例，说明构造函数的使用方法。

```
class Time
{
	private:
		int hour,minute,second;
	public:
		Time(int h=1,int m=30,int s=30) //构造函数，可以接受三个变量的输入，若没有输入，则自动初始化为1:30:30
		{
			hour=h;minute=m;second=s;
		}
};

int main()
{
	Time A; //没有参数，类中成员自动初始化为1:30:30
	Time B(2,30,59); //根据初始化参数将成员初始化为2:30:59
}
```

## 构造函数的重载
和其他函数一样，构造函数也支持重载，下面仍以时间类为例，通过构造函数重载实现类成员的多重初始化方式：

```
class Time
{
	private:
		int hour,minute,second;
	public:
		Time():hour(3),minute(25),second(30){}; //无参数初始化函数，请注意结尾的一对大括号
		Time(int,int,int); //在构造函数体中进行初始化，需继续补充函数定义
		Time(int h=3,int minute=25,int second=30); //默认参数初始化
		Time(Time &t):hour(t.hour),minute(t.minute),second(t.second){}; //使用其他参数初始化，注意结尾的一对大括号
};
```

# 析构函数
析构函数也是类定义中的一种特殊函数，其作用在于，当类对象被回收时，析构函数将会被**自动执行**。很多情况下用于完成一些对象呗撤销之前的清理工作。其基本函数形式如下所示：

```
~<类名>()
{
	<函数体>
}
```

和构造函数一样，析构函数也没有返回值，且函数名与类名必须完全一致，且在类名之前要加上波浪号,同时需要注意，析构函数不得带有任何参数。当类对象被回收时，该对象的析构函数将会自动执行。
